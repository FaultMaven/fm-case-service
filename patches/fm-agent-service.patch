From 48c737cd2b0990890dc22d42efa183a97675d3a0 Mon Sep 17 00:00:00 2001
From: Claude <noreply@anthropic.com>
Date: Mon, 15 Dec 2025 03:03:00 +0000
Subject: [PATCH] feat(docs): implement automated documentation workflow

Implement comprehensive automated documentation workflow based on
fm-case-service gold standard pattern.

Changes:
- Enhanced .github/workflows/generate-docs.yml:
  - Add paths filter to trigger only on API-related file changes
  - Add workflow_dispatch for manual triggering
  - Replace direct push with PR-based output using peter-evans/create-pull-request@v5
  - Add validation step requiring min 100 char descriptions and response codes
  - Add README generation step
  - Keep Poetry for dependency management

- Created scripts/generate_readme.py:
  - Reads OpenAPI spec from docs/api/openapi.json
  - Generates comprehensive README with endpoint table, response codes
  - Includes quick start guide, configuration, architecture diagrams
  - Auto-generated timestamp and documentation badge
  - Covers milestone-based investigation engine and multi-provider LLM support

- Enhanced docstrings in src/agent_service/main.py:
  - GET / endpoint: Added comprehensive docstring with workflow, response
    example, use cases, storage/rate limits/auth markers (>100 chars)
  - GET /health endpoint: Added comprehensive docstring with workflow,
    response example, use cases, storage/rate limits/auth markers (>100 chars)
  - Both endpoints now include responses dict with status codes

This ensures zero documentation drift - all docs auto-generated from code
on every API change and submitted via PR for review.
---
 .github/workflows/generate-docs.yml | 152 ++++++++-
 scripts/generate_readme.py          | 479 ++++++++++++++++++++++++++++
 src/agent_service/main.py           |  72 ++++-
 3 files changed, 688 insertions(+), 15 deletions(-)
 create mode 100644 scripts/generate_readme.py

diff --git a/.github/workflows/generate-docs.yml b/.github/workflows/generate-docs.yml
index 9da2bc0..6e098fc 100644
--- a/.github/workflows/generate-docs.yml
+++ b/.github/workflows/generate-docs.yml
@@ -3,8 +3,21 @@ name: Generate Documentation
 on:
   push:
     branches: [main, develop]
+    paths:
+      - 'src/**/api/**'              # API routes
+      - 'src/**/models/**'           # Pydantic models
+      - 'src/**/main.py'             # App entry point
+      - 'scripts/generate_readme.py' # README generator
+      - 'pyproject.toml'             # Version changes
   pull_request:
     branches: [main]
+    paths:
+      - 'src/**/api/**'
+      - 'src/**/models/**'
+      - 'src/**/main.py'
+      - 'scripts/generate_readme.py'
+      - 'pyproject.toml'
+  workflow_dispatch:  # Allow manual trigger for initial setup or debugging
 
 jobs:
   generate-docs:
@@ -14,12 +27,13 @@ jobs:
       - name: Checkout code
         uses: actions/checkout@v4
         with:
-          fetch-depth: 0
+          fetch-depth: 0  # Full history for better git operations
 
       - name: Set up Python
         uses: actions/setup-python@v4
         with:
           python-version: '3.11'
+          cache: 'pip'
 
       - name: Install Poetry
         run: |
@@ -28,6 +42,7 @@ jobs:
       - name: Install dependencies
         run: |
           poetry install
+          poetry run pip install pyyaml
 
       - name: Generate OpenAPI Specification
         run: |
@@ -52,12 +67,103 @@ jobs:
               yaml.dump(spec, f, default_flow_style=False, sort_keys=False)
 
           print('âœ… OpenAPI specification generated')
+          print(f'  - docs/api/openapi.json ({os.path.getsize(\"docs/api/openapi.json\")} bytes)')
+          print(f'  - docs/api/openapi.yaml ({os.path.getsize(\"docs/api/openapi.yaml\")} bytes)')
           "
 
+      - name: Validate Documentation Completeness
+        run: |
+          poetry run python -c "
+          from agent_service.main import app
+          import sys
+
+          spec = app.openapi()
+          incomplete = []
+          warnings = []
+          endpoints_checked = 0
+
+          # Required response codes that should be documented
+          REQUIRED_SUCCESS_CODES = {'200', '201', '204'}
+          REQUIRED_ERROR_CODES = {'400', '401', '404', '422', '500'}
+
+          # Minimum description length for comprehensive docs (chars)
+          MIN_DESCRIPTION_LENGTH = 100
+
+          # Check all endpoints for required documentation
+          for path, methods in spec.get('paths', {}).items():
+              for method, details in methods.items():
+                  if method.lower() in ['get', 'post', 'put', 'delete', 'patch']:
+                      endpoints_checked += 1
+                      endpoint_id = f'{method.upper()} {path}'
+
+                      # Check for summary
+                      summary = details.get('summary', '').strip()
+                      if not summary:
+                          incomplete.append(f'{endpoint_id} - missing summary')
+
+                      # Check for description
+                      description = details.get('description', '').strip()
+                      if not description:
+                          incomplete.append(f'{endpoint_id} - missing description')
+                      elif len(description) < MIN_DESCRIPTION_LENGTH:
+                          incomplete.append(f'{endpoint_id} - description too short ({len(description)} chars, min {MIN_DESCRIPTION_LENGTH})')
+
+                      # Check for responses dict
+                      responses = details.get('responses', {})
+                      if not responses:
+                          incomplete.append(f'{endpoint_id} - missing responses')
+                      else:
+                          response_codes = set(responses.keys())
+
+                          # Check for at least one success code
+                          if not response_codes.intersection(REQUIRED_SUCCESS_CODES):
+                              incomplete.append(f'{endpoint_id} - missing success response (200/201/204)')
+
+                          # Check for 401 (auth required for most endpoints)
+                          if '401' not in response_codes and '/health' not in path:
+                              warnings.append(f'{endpoint_id} - missing 401 response')
+
+                          # Check for 500 (internal error)
+                          if '500' not in response_codes and '/health' not in path:
+                              warnings.append(f'{endpoint_id} - missing 500 response')
+
+          print(f'ðŸ“Š Documentation Validation Report')
+          print(f'  Total endpoints checked: {endpoints_checked}')
+          print()
+
+          if warnings:
+              print(f'âš ï¸  Warnings: {len(warnings)}')
+              for item in warnings:
+                  print(f'    - {item}')
+              print()
+
+          if incomplete:
+              print(f'âŒ Incomplete documentation: {len(incomplete)} issue(s)')
+              print()
+              print('Errors (must fix):')
+              for item in incomplete:
+                  print(f'  - {item}')
+              print()
+              print('Documentation requirements:')
+              print('  - summary: One-line description (required)')
+              print('  - description: Comprehensive docs with examples, workflow, auth info (min 100 chars)')
+              print('  - responses: Dict with success (200/201/204) and error codes (400/401/404/500)')
+              sys.exit(1)
+          else:
+              print(f'âœ… All {endpoints_checked} endpoints fully documented')
+              if warnings:
+                  print(f'   (with {len(warnings)} non-blocking warnings)')
+          "
+
+      - name: Generate README
+        run: |
+          poetry run python scripts/generate_readme.py
+          echo "âœ… README.md generated"
+
       - name: Check for documentation changes
         id: check_changes
         run: |
-          git add docs/api/*.json docs/api/*.yaml 2>/dev/null || true
+          git add docs/api/*.json docs/api/*.yaml README.md
           if git diff --staged --quiet; then
             echo "has_changes=false" >> $GITHUB_OUTPUT
             echo "ðŸ“ No documentation changes detected"
@@ -67,21 +173,41 @@ jobs:
             git diff --staged --stat
           fi
 
-      - name: Commit and push documentation
+      - name: Create Pull Request for documentation updates
         if: |
           github.event_name == 'push' &&
           github.ref == 'refs/heads/main' &&
           steps.check_changes.outputs.has_changes == 'true'
-        run: |
-          git config user.name "github-actions[bot]"
-          git config user.email "github-actions[bot]@users.noreply.github.com"
-          git commit -m "docs: Auto-generate API documentation [skip ci]
-
-          - Updated OpenAPI specification (JSON + YAML)
-          - Documentation timestamp: $(date -u +'%Y-%m-%d %H:%M UTC')"
-          git push
-        env:
-          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
+        uses: peter-evans/create-pull-request@v5
+        with:
+          token: ${{ secrets.GITHUB_TOKEN }}
+          commit-message: "docs: Auto-generate API documentation"
+          branch: docs/auto-update-${{ github.run_id }}
+          delete-branch: true
+          title: "docs: Auto-update API documentation"
+          body: |
+            ## ðŸ¤– Auto-generated Documentation Update
+
+            This PR was automatically created by the documentation workflow.
+
+            ### Changes
+            - Updated OpenAPI specification (JSON + YAML)
+            - Regenerated README.md from code
+
+            ### Trigger
+            - **Commit:** ${{ github.sha }}
+            - **Message:** ${{ github.event.head_commit.message }}
+            - **Author:** ${{ github.event.head_commit.author.name }}
+
+            ### Validation
+            âœ… All endpoints have required documentation (summary, description, responses)
+
+            ---
+            *This PR can be auto-merged if documentation looks correct.*
+          labels: |
+            documentation
+            automated
+          reviewers: ${{ github.actor }}
 
       - name: Upload OpenAPI spec as artifact
         uses: actions/upload-artifact@v3
diff --git a/scripts/generate_readme.py b/scripts/generate_readme.py
new file mode 100644
index 0000000..339f1c7
--- /dev/null
+++ b/scripts/generate_readme.py
@@ -0,0 +1,479 @@
+#!/usr/bin/env python3
+"""Auto-generate README.md from OpenAPI specification.
+
+This script reads the OpenAPI spec generated from FastAPI and creates
+a comprehensive README with endpoint documentation, examples, and statistics.
+"""
+
+import json
+from pathlib import Path
+from datetime import datetime
+from typing import Dict, List, Set, Any
+
+
+def load_openapi_spec() -> Dict[str, Any]:
+    """Load OpenAPI spec from docs/api/openapi.json"""
+    spec_path = Path(__file__).parent.parent / "docs" / "api" / "openapi.json"
+
+    if not spec_path.exists():
+        raise FileNotFoundError(
+            f"OpenAPI spec not found at {spec_path}. "
+            "Run the app to generate it first."
+        )
+
+    with open(spec_path, 'r') as f:
+        return json.load(f)
+
+
+def generate_endpoint_table(spec: Dict[str, Any]) -> str:
+    """Generate markdown table of endpoints"""
+    endpoints = []
+
+    for path, methods in spec.get('paths', {}).items():
+        for method, details in methods.items():
+            if method.lower() in ['get', 'post', 'put', 'delete', 'patch']:
+                # Extract summary or use path as fallback
+                summary = details.get('summary', path)
+
+                endpoints.append({
+                    'method': method.upper(),
+                    'path': path,
+                    'summary': summary
+                })
+
+    # Sort endpoints: health first, then by path
+    def sort_key(e):
+        if e['path'] == '/health':
+            return (0, '')
+        return (1, e['path'])
+
+    endpoints.sort(key=sort_key)
+
+    # Build markdown table
+    table = "| Method | Endpoint | Description |\n"
+    table += "|--------|----------|-------------|\n"
+
+    for endpoint in endpoints:
+        table += f"| {endpoint['method']} | `{endpoint['path']}` | {endpoint['summary']} |\n"
+
+    return table
+
+
+def extract_response_codes(spec: Dict[str, Any]) -> Dict[str, Set[str]]:
+    """Extract unique response codes and their descriptions across all endpoints"""
+    response_info = {}
+
+    for path, methods in spec.get('paths', {}).items():
+        for method, details in methods.items():
+            if method.lower() in ['get', 'post', 'put', 'delete', 'patch']:
+                for code, response_details in details.get('responses', {}).items():
+                    desc = response_details.get('description', 'No description')
+                    if code not in response_info:
+                        response_info[code] = set()
+                    response_info[code].add(desc)
+
+    return response_info
+
+
+def generate_response_codes_section(spec: Dict[str, Any]) -> str:
+    """Generate response codes documentation"""
+    response_info = extract_response_codes(spec)
+
+    if not response_info:
+        return ""
+
+    section = "\n## Common Response Codes\n\n"
+
+    # Sort codes numerically
+    for code in sorted(response_info.keys(), key=lambda x: int(x)):
+        descriptions = list(response_info[code])
+        section += f"- **{code}**: {descriptions[0]}\n"
+
+    return section
+
+
+def count_endpoints(spec: Dict[str, Any]) -> int:
+    """Count total number of endpoints"""
+    count = 0
+    for path, methods in spec.get('paths', {}).items():
+        for method in methods.keys():
+            if method.lower() in ['get', 'post', 'put', 'delete', 'patch']:
+                count += 1
+    return count
+
+
+def main():
+    """Generate README.md from OpenAPI specification"""
+    print("ðŸš€ Generating README.md from OpenAPI specification...")
+
+    # Load spec
+    spec = load_openapi_spec()
+
+    # Extract metadata
+    info = spec.get('info', {})
+    title = info.get('title', 'Agent Service')
+    version = info.get('version', '2.0.0')
+    description = info.get('description', 'FaultMaven AI Agent Orchestration Microservice')
+
+    # Generate sections
+    endpoint_table = generate_endpoint_table(spec)
+    response_codes = generate_response_codes_section(spec)
+    total_endpoints = count_endpoints(spec)
+    timestamp = datetime.utcnow().strftime('%Y-%m-%d %H:%M UTC')
+
+    # Build README content
+    readme_content = f"""# {title}
+
+> **ðŸ¤– This README is auto-generated** from code on every commit.
+> Last updated: **{timestamp}** | Total endpoints: **{total_endpoints}**
+
+[![License](https://img.shields.io/badge/License-Apache%202.0-blue.svg)](LICENSE)
+[![Docker](https://img.shields.io/badge/docker-ready-blue.svg)](https://hub.docker.com/r/faultmaven/fm-agent-service)
+[![Auto-Docs](https://img.shields.io/badge/docs-auto--generated-success.svg)](.github/workflows/generate-docs.yml)
+
+## Overview
+
+**{description}** - Part of the FaultMaven troubleshooting platform.
+
+The Agent Service is the core AI reasoning engine of FaultMaven. It orchestrates multi-step diagnostic conversations using a **milestone-based investigation engine** that breaks down complex troubleshooting into structured phases. The service integrates with knowledge bases through RAG, coordinates with other microservices (Case, Evidence, Knowledge), and provides intelligent, context-aware guidance.
+
+**Key Features:**
+- **Milestone-Based Investigation**: Structured diagnostic workflow (Understand â†’ Hypothesize â†’ Test â†’ Resolve)
+- **Multi-Provider LLM Support**: OpenAI, Anthropic, Groq, Gemini, Fireworks, OpenRouter with automatic fallback
+- **RAG Integration**: Knowledge base search and synthesis (coming soon)
+- **Stateless Design**: Each request contains full context (compatible with API Gateway session management)
+- **Evidence Coordination**: Integrates with fm-evidence-service for artifact storage
+- **Case Management**: Links investigations to persistent cases via fm-case-service
+- **Provider Flexibility**: Task-specific provider routing with cost optimization
+
+## Quick Start
+
+### Using Docker (Recommended)
+
+```bash
+docker run -p 8006:8006 \\
+  -e OPENAI_API_KEY=sk-... \\
+  -e ANTHROPIC_API_KEY=sk-ant-... \\
+  faultmaven/fm-agent-service:latest
+```
+
+The service will be available at `http://localhost:8006`.
+
+### Using Docker Compose
+
+See [faultmaven-deploy](https://github.com/FaultMaven/faultmaven-deploy) for complete deployment with all FaultMaven services.
+
+### Development Setup
+
+```bash
+# Clone repository
+git clone https://github.com/FaultMaven/fm-agent-service.git
+cd fm-agent-service
+
+# Install dependencies (using Poetry)
+poetry install
+
+# Set up environment
+cp .env.example .env
+# Edit .env and add your API keys
+
+# Run service
+poetry run uvicorn agent_service.main:app --reload --port 8006
+```
+
+## API Endpoints
+
+{endpoint_table}
+
+**OpenAPI Documentation**: See [docs/api/openapi.json](docs/api/openapi.json) or [docs/api/openapi.yaml](docs/api/openapi.yaml) for complete API specification.
+{response_codes}
+
+## Configuration
+
+Configuration via environment variables:
+
+| Variable | Description | Default |
+|----------|-------------|---------|
+| `SERVICE_NAME` | Service identifier | `fm-agent-service` |
+| `ENVIRONMENT` | Deployment environment | `development` |
+| `PORT` | Service port | `8006` |
+| `LOG_LEVEL` | Logging level (DEBUG/INFO/WARNING/ERROR) | `INFO` |
+| `CORS_ORIGINS` | Allowed CORS origins (comma-separated) | `*` |
+
+### LLM Provider Configuration
+
+The agent service supports **6 LLM providers** with automatic fallback:
+
+**Supported Providers:**
+- **OpenAI** (GPT-4, GPT-4o, etc.)
+- **Anthropic** (Claude 3.5 Sonnet, etc.)
+- **Groq** (Llama 3.3, Mixtral - FREE tier available)
+- **Gemini** (Google's Gemini models)
+- **Fireworks** (Open source models)
+- **OpenRouter** (Multi-provider aggregator)
+
+**Basic Configuration:**
+
+```env
+# Configure one or more providers
+OPENAI_API_KEY=sk-...
+ANTHROPIC_API_KEY=sk-ant-...
+GROQ_API_KEY=gsk_...
+GEMINI_API_KEY=...
+FIREWORKS_API_KEY=...
+OPENROUTER_API_KEY=...
+```
+
+**Task-Specific Provider Routing (Optional):**
+
+For cost optimization and performance, assign specific providers to different task types:
+
+```env
+# Main diagnostic conversations
+CHAT_PROVIDER=openai
+CHAT_MODEL=gpt-4o
+
+# Visual evidence processing (future)
+MULTIMODAL_PROVIDER=gemini
+MULTIMODAL_MODEL=gemini-1.5-pro
+
+# Knowledge base RAG queries (future)
+SYNTHESIS_PROVIDER=groq
+SYNTHESIS_MODEL=llama-3.1-8b-instant  # Fast and FREE!
+
+# Disable fallback (fail instead of trying next provider)
+STRICT_PROVIDER_MODE=false
+```
+
+**Task Types:**
+- `chat` - Main diagnostic conversations (currently implemented)
+- `multimodal` - Visual evidence processing (future: image analysis)
+- `synthesis` - Knowledge base RAG queries (future: document Q&A)
+
+If task-specific providers are not configured, the service uses automatic fallback across all available providers.
+
+## Milestone-Based Investigation Engine
+
+The Agent Service uses a **structured investigation workflow** based on troubleshooting best practices:
+
+### Investigation Phases
+
+1. **Understand** - Gather context and clarify the problem
+   - What's happening? When did it start?
+   - What changed recently?
+   - Collect initial evidence
+
+2. **Hypothesize** - Develop theories about root causes
+   - What could cause this?
+   - What are the most likely explanations?
+   - Prioritize hypotheses
+
+3. **Test** - Validate hypotheses with evidence
+   - Design diagnostic tests
+   - Execute and collect results
+   - Narrow down possibilities
+
+4. **Resolve** - Implement and verify the fix
+   - Apply solution
+   - Verify resolution
+   - Document learnings
+
+### Stateless Context Management
+
+Each agent request includes full conversation history and context:
+
+```json
+{{
+  "session_id": "session_xyz789",
+  "user_id": "user_123",
+  "messages": [
+    {{"role": "user", "content": "My API is returning 500 errors"}},
+    {{"role": "assistant", "content": "Let's investigate. What endpoint is failing?"}}
+  ],
+  "current_milestone": "understand",
+  "context": {{
+    "problem_statement": "API 500 errors",
+    "affected_systems": ["api-gateway", "database"]
+  }}
+}}
+```
+
+**Benefits:**
+- No server-side session storage required
+- Horizontal scaling without sticky sessions
+- API Gateway handles persistence via fm-session-service
+
+## Authorization
+
+This service uses **trusted header authentication** from the FaultMaven API Gateway:
+
+**Required Headers:**
+
+- `X-User-ID` (required): Identifies the user making the request
+
+**Optional Headers:**
+
+- `X-User-Email`: User's email address
+- `X-User-Roles`: User's roles (comma-separated)
+
+**Security Model:**
+
+- âœ… Service trusts headers set by upstream gateway
+- âœ… All requests validated for X-User-ID presence
+- âš ï¸ Never expose this service directly to the internet
+
+**Important**: This service should run behind the [fm-api-gateway](https://github.com/FaultMaven/faultmaven) which handles authentication and sets these headers.
+
+## Architecture
+
+```
+â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
+â”‚  FaultMaven API Gateway â”‚  Handles authentication (Clerk)
+â”‚  (Port 8000)            â”‚  Sets X-User-ID header
+â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
+            â”‚ Trusted headers (X-User-ID)
+            â†“
+â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
+â”‚  fm-agent-service       â”‚  Milestone-based investigation
+â”‚  (Port 8006)            â”‚  Multi-provider LLM orchestration
+â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
+      â”‚         â”‚
+      â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ LLM Providers (OpenAI, Anthropic, Groq, etc.)
+      â”‚
+      â†“
+â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
+â”‚  Related Services       â”‚
+â”‚  - fm-case-service      â”‚  Case management
+â”‚  - fm-evidence-service  â”‚  Evidence storage
+â”‚  - fm-knowledge-service â”‚  RAG knowledge base
+â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
+```
+
+**Related Services:**
+- fm-api-gateway (8000) - Authentication and routing
+- fm-session-service (8001) - Session persistence
+- fm-case-service (8003) - Case management
+- fm-evidence-service (8004) - Evidence artifacts
+- fm-knowledge-service (8002) - Knowledge base (future RAG integration)
+
+**Storage Details:**
+
+- **State**: Stateless (context in each request)
+- **Session Persistence**: Handled by API Gateway â†’ fm-session-service
+- **Case Data**: Coordinated with fm-case-service
+- **Evidence**: Coordinated with fm-evidence-service
+
+## Testing
+
+```bash
+# Install dev dependencies
+poetry install
+
+# Run all tests
+poetry run pytest
+
+# Run with coverage report
+poetry run pytest --cov=src --cov-report=html --cov-report=term
+
+# Run specific test types
+poetry run pytest tests/unit/ -v
+poetry run pytest tests/integration/ -v
+poetry run pytest tests/contract/ -v
+
+# Run with debug output
+poetry run pytest -vv -s
+```
+
+**Test Coverage Goals:**
+
+- Unit tests: Core business logic (InvestigationEngine, MilestoneManager)
+- Integration tests: LLM provider integration and fallback
+- Contract tests: API contract validation
+- Target coverage: >80%
+
+## Development Workflow
+
+```bash
+# Format code with black
+poetry run black src/ tests/
+
+# Lint with flake8
+poetry run flake8 src/ tests/
+
+# Type check with mypy
+poetry run mypy src/
+
+# Run all quality checks
+poetry run black src/ tests/ && poetry run flake8 src/ tests/ && poetry run mypy src/ && poetry run pytest
+```
+
+## Related Projects
+
+- [faultmaven](https://github.com/FaultMaven/faultmaven) - Main backend with API Gateway and orchestration
+- [faultmaven-copilot](https://github.com/FaultMaven/faultmaven-copilot) - Browser extension UI for troubleshooting
+- [faultmaven-deploy](https://github.com/FaultMaven/faultmaven-deploy) - Docker Compose deployment configurations
+- [fm-session-service](https://github.com/FaultMaven/fm-session-service) - Investigation session management
+- [fm-case-service](https://github.com/FaultMaven/fm-case-service) - Case management
+- [fm-knowledge-service](https://github.com/FaultMaven/fm-knowledge-service) - Knowledge base and recommendations
+- [fm-evidence-service](https://github.com/FaultMaven/fm-evidence-service) - Evidence artifact storage
+
+## CI/CD
+
+This repository uses **GitHub Actions** for automated documentation generation:
+
+**Trigger**: Every push to `main` or `develop` branches (when API-related files change)
+
+**Process**:
+1. Generate OpenAPI spec (JSON + YAML)
+2. Validate documentation completeness (fails if endpoints lack comprehensive descriptions)
+3. Auto-generate this README from code
+4. Create pull request with documentation updates
+
+See [.github/workflows/generate-docs.yml](.github/workflows/generate-docs.yml) for implementation details.
+
+**Documentation Guarantee**: This README is always in sync with the actual code. Any endpoint changes automatically trigger documentation updates.
+
+## License
+
+Apache 2.0 - See [LICENSE](LICENSE) for details.
+
+## Contributing
+
+Contributions welcome! Please:
+
+1. Fork the repository
+2. Create a feature branch (`git checkout -b feature/amazing-feature`)
+3. Make your changes
+4. Run tests and quality checks (`poetry run pytest && poetry run black . && poetry run flake8`)
+5. Commit with clear messages (`git commit -m 'feat: Add amazing feature'`)
+6. Push to your fork (`git push origin feature/amazing-feature`)
+7. Open a Pull Request
+
+**Code Style**: Black formatting, flake8 linting, mypy type checking
+**Commit Convention**: Conventional Commits (feat/fix/docs/refactor/test/chore)
+
+---
+
+**ðŸ“Š Documentation Statistics**
+- Total endpoints: {total_endpoints}
+- Last generated: {timestamp}
+- OpenAPI spec version: {version}
+- Generator: scripts/generate_readme.py
+- CI/CD: GitHub Actions
+
+*This README is automatically updated on every commit to ensure zero documentation drift.*
+"""
+
+    # Write README
+    readme_path = Path(__file__).parent.parent / "README.md"
+    with open(readme_path, 'w', encoding='utf-8') as f:
+        f.write(readme_content)
+
+    print(f"âœ… README.md generated successfully")
+    print(f"   Location: {readme_path}")
+    print(f"   Total endpoints documented: {total_endpoints}")
+    print(f"   Timestamp: {timestamp}")
+
+
+if __name__ == "__main__":
+    main()
diff --git a/src/agent_service/main.py b/src/agent_service/main.py
index 90fccaa..f9570da 100644
--- a/src/agent_service/main.py
+++ b/src/agent_service/main.py
@@ -36,7 +36,41 @@ app.add_middleware(
 app.include_router(agent.router)
 
 
-@app.get("/health")
+@app.get(
+    "/health",
+    summary="Health Check",
+    description="""
+Returns the health status of the Agent Service.
+
+**Workflow**:
+1. Checks service availability
+2. Reports service metadata
+3. Returns operational status
+
+**Response Example**:
+```json
+{
+  "status": "healthy",
+  "service": "Agent Service",
+  "version": "2.0.0"
+}
+```
+
+**Use Cases**:
+- Kubernetes liveness/readiness probes
+- Load balancer health checks
+- Service mesh health monitoring
+- Docker Compose healthcheck
+
+**Storage**: No database or external dependencies queried
+**Rate Limits**: None
+**Authorization**: None required (public endpoint)
+    """,
+    responses={
+        200: {"description": "Service is healthy and operational"},
+        500: {"description": "Service is unhealthy or experiencing issues"}
+    }
+)
 async def health_check():
     """Health check endpoint."""
     return {
@@ -46,7 +80,41 @@ async def health_check():
     }
 
 
-@app.get("/")
+@app.get(
+    "/",
+    summary="Service Information",
+    description="""
+Returns service metadata and API information for the Agent Service.
+
+**Workflow**:
+1. Client requests service information
+2. Service returns metadata including name, version, and description
+3. Useful for API discovery and version verification
+
+**Response Example**:
+```json
+{
+  "service": "Agent Service",
+  "version": "2.0.0",
+  "description": "FaultMaven AI Agent Orchestration Microservice"
+}
+```
+
+**Use Cases**:
+- API discovery and version checking
+- Service registry integration
+- Client compatibility verification
+- Development and debugging
+
+**Storage**: No database access (static metadata)
+**Rate Limits**: None
+**Authorization**: None required (public endpoint)
+    """,
+    responses={
+        200: {"description": "Service information returned successfully"},
+        500: {"description": "Internal server error"}
+    }
+)
 async def root():
     """Root endpoint."""
     return {
-- 
2.43.0

